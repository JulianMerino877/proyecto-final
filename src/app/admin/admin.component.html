<div class="admin-container">
  <!-- Formulario de Agregar Profesional dentro del admin -->
  
  <h2>Panel de Administrador</h2>
  <div *ngIf="profesionales.length; else sinDatos">
    <table class="admin-table">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Especialidad</th>
          <th>Teléfono</th>
          <th>Publicado Por</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let prof of profesionales">
          <!-- Formulario de edición completo -->
          <tr *ngIf="editingProf?.id === prof.id">
            <td><input [(ngModel)]="editingProf.nombre" name="nombre" /></td>
            <td><input [(ngModel)]="editingProf.especialidad" name="especialidad" /></td>
            <td><input [(ngModel)]="editingProf.telefono" name="telefono" /></td>
            <td>{{ editingProf.createdBy || 'Desconocido' }}</td>
            <td>
              <button class="btn-save" (click)="saveEdit()">Guardar</button>
              <button class="btn-cancel" (click)="cancelEdit()">Cancelar</button>
            </td>
          </tr>
          <!-- Fila de confirmación de eliminación -->
          <tr *ngIf="deletingProf?.id === prof.id">
            <td>{{ prof.nombre }}</td>
            <td>{{ prof.especialidad }}</td>
            <td>{{ prof.telefono || '—' }}</td>
            <td>{{ prof.createdBy || 'Desconocido' }}</td>
            <td>
              <button class="btn-confirm-delete" (click)="confirmDelete()">Confirmar Eliminación</button>
              <button class="btn-cancel" (click)="cancelDelete()">Cancelar</button>
            </td>
          </tr>
          <!-- Fila normal -->
          <tr *ngIf="editingProf?.id !== prof.id && deletingProf?.id !== prof.id">
            <td>{{ prof.nombre }}</td>
            <td>{{ prof.especialidad }}</td>
            <td>{{ prof.telefono || '—' }}</td>
            <td>{{ prof.createdBy || 'Desconocido' }}</td>
            <td>
              <button class="btn-edit" (click)="startEdit(prof)">Editar</button>
              <button class="btn-delete" (click)="startDelete(prof)">Eliminar</button>
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
  <ng-template #sinDatos>
    <p class="no-data">No hay profesionales registrados.</p>
  </ng-template>
</div>
